var apiUrl = "http://localhost:8088/";
function showAndHideElement(hideElement, showElement, value) {
    document.getElementById(hideElement).style.display = "none";
    document.getElementById(showElement).style.display = "block";
    var sendAjax = false;
    var urlPetition = "";
    switch (showElement) {
        case 'characteristics':
            sendAjax = true;
            urlPetition = "characteristics/get-by-gender/" + value
            showCharacteristics(urlPetition);
            break;
        case 'price_range':
            sendAjax = true;
            urlPetition = "price_characteristics/get-by-character/" + value
            showPricesByCharacteristic(urlPetition);
            break;
        case 'choose_gitf':
            sendAjax = true;
            urlPetition = "set_product/get-by-set/" + value
            showProductosByRange(urlPetition);
            break;
        default:
            break;
    }

}

function showCharacteristics(petition) {
    var stringDiv = "";
    $('.charactericts_element').remove();
    $.ajax({
        url: apiUrl + petition,
        context: document.body
    }).done(function (result) {

        result.forEach(element => {
            var stringText = "'characteristics','price_range'";
            stringDiv += '<div class="card col-md-5 text-white  ml-2 mr-2 mb-2 charactericts_element" style="background-color: #37ac3c!important;border-radius: 50px 20px;">';
            stringDiv += '<div class="card-body d-flex justify-content-center">';
            stringDiv += '<h5 class="card-title"><a href="#!"onClick="showAndHideElement(' + stringText + ',' + element.chaId + ')">';
            stringDiv += '<strong class="text-white">' + element.chaDescription + '</strong></a></h5></div></div>';
            console.log(element);
        });
        $("#container_to_characteristics").append(stringDiv);
    });
}

function showPricesByCharacteristic(petition) {
    $('.price_range_element').remove();
    var stringDiv = "";
    $.ajax({
        url: apiUrl + petition,
        context: document.body
    }).done(function (result) {

        result.forEach(element => {
            var stringText = "'price_range','choose_gitf'";
            stringDiv += '<div class="price-box card mb-4 box-shadow price_range_element" style="background-color: #c3494538;"><div class="card-body p-4">';
            stringDiv += '<h2 class="card-title pricing-card-title mb-0 font-weight-bold text-white">' + element.rangePrice.rapDescription + '</h2>';
            stringDiv += '<a href="#" class="btn btn-block btn-secondary btn-cyan mt-4" onClick="showAndHideElement(' + stringText + ',' + element.prcId + ')">';
            stringDiv += 'Elegir </a></div></div>';
        });
        console.log(stringDiv);
        $("#container_range_price").append(stringDiv);
    });
}

function showProductosByRange(petition) {
    $('.gift_title_element').remove();
    $('.gift_subtitle_element').remove();
    $('.choose_all_element').remove();
    $('.gift_element').remove();
    var stringDiv = "";
    var titleText = "";
    var subtitleText = "";
    var buttonChooseAll = "";
    $.ajax({
        url: apiUrl + petition,
        context: document.body
    }).done(function (result) {

        result.forEach(element => {
            console.log(element);
            titleText = '<strong class="text-white-italic gift_title_element">' + element.priceCharacteristic.characteristic.chaDescription + '</strong>';
            subtitleText = '<strong class="text-white-italic gift_subtitle_element">' + element.priceCharacteristic.rangePrice.rapDescription + '</strong>';
            buttonChooseAll = '<a href="' + element.sepUrlSet + '" class="btn btn-block btn-secondary btn-cyan mt-4 col-md-6 choose_all_element" target="_blank">Elegir Todos</a>';
            stringDiv += '<div class="col-md-6 blog-item-wrapper gift_element"><div class="blog-item"><div class="blog-img">';
            stringDiv += '<a href="' + element.sepProductUrl + '" target="_blank"> <img src="' + element.sepUrl + '" alt="" ></a></div>';
            stringDiv += '<div class="blog-text"><div class="blog-title"><a href="' + element.sepProductUrl + '" target="_blank"><h4>' + element.sepProductName + '</h4>';
            stringDiv += '</a></div></div> <div class="card-body p-4">';
            stringDiv += '<h2 class="card-title pricing-card-title mb-0 font-weight-bold">$' + element.sepPrice + '</h2>';
            stringDiv += '<a href="' + element.sepProductUrl + '" class="btn btn-block btn-secondary btn-cyan mt-4" target="_blank">Elegir</a></div></div></div>';
        });
        $("#choose_gift_title").append(titleText);
        $("#choose_gift_subtitle").append(subtitleText);
        $("#container_gifts").append(stringDiv);
        $("#choose_all_gifts").append(buttonChooseAll);
    });
}